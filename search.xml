<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Emiyaã®diary</title>
    <url>/2099/06/16/Emiya%E3%81%AEdiary/</url>
    <content><![CDATA[<span id="more"></span>

<h3 id="20220502"><a href="#20220502" class="headerlink" title="20220502"></a>20220502</h3><ol>
<li><p>å­¦ä¹ åˆ©ç”¨Hexoå’Œgithubæ­å»ºåšå®¢ï¼Œç›®å‰åšå®¢åŸºæœ¬æ­å»ºå®Œæˆ</p>
</li>
<li><p>æ­å»ºåµŒå…¥å¼ç¯å¢ƒï¼ŒåŸºæœ¬å®Œæˆ</p>
</li>
<li><p>å­¦ä¹ ä¿®å¤è·¯ç”±å™¨è¿è¡Œç¯å¢ƒ</p>
</li>
</ol>
]]></content>
      <categories>
        <category>å­¦ä¹ æ—¥è®°</category>
      </categories>
  </entry>
  <entry>
    <title>ä¿®å¤è·¯ç”±å™¨ç¨‹åºè¿è¡Œç¯å¢ƒ</title>
    <url>/2022/05/05/%E4%BF%AE%E5%A4%8D%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<span id="more"></span>

<h2 id="ç³»ç»Ÿç¯å¢ƒ"><a href="#ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HOST OS Platform: macOS</span><br><span class="line">HOST OS Version: 10.15</span><br><span class="line">è™šæ‹Ÿæœºè½¯ä»¶ï¼šVMware Fusion 12</span><br><span class="line">OS Platform:  Linux Ubuntu</span><br><span class="line">OS Version: 18.04</span><br><span class="line">Python Version: 3.6.9 (default)</span><br></pre></td></tr></table></figure>

<h2 id="å›ºä»¶ä¿¡æ¯"><a href="#å›ºä»¶ä¿¡æ¯" class="headerlink" title="å›ºä»¶ä¿¡æ¯"></a>å›ºä»¶ä¿¡æ¯</h2><p>æœ¬ç« ä»¥ D-Link DIR-605Lï¼ˆFW_113ï¼‰è·¯ç”±å™¨ä¸ºä¾‹</p>
<p>ä¸‹è½½é“¾æ¥ï¼š	<a href="ftp://ftp2.dlink.com/PRODUCTS/DIR-605L/REVA/DIR-605L_FIRMWARE_1.13.ZIP">ftp://FTP2.DLINK.COM/PRODUCTS/DIR-605L/REVA/DIR-605L_FIRMWARE_1.13.ZIP</a></p>
<p>æŸ¥çœ‹ä¿¡æ¯ï¼Œè§£å‹å¹¶æå–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/3$ binwalk -e dir605L_FW_113.bin </span><br><span class="line"></span><br><span class="line">DECIMAL       HEXADECIMAL     DESCRIPTION</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">11280         0x2C10          LZMA compressed data, properties: 0x5D, dictionary size: 8388608 bytes, uncompressed size: 2129920 bytes</span><br><span class="line">563234        0x89822         Squashfs filesystem, big endian, version 2.0, size: 64160 bytes, 7 inodes, blocksize: 65536 bytes, created: 2012-05-25 04:03:47</span><br><span class="line">628788        0x99834         Squashfs filesystem, big endian, version 2.0, size: 2301312 bytes, 495 inodes, blocksize: 65536 bytes, created: 2012-05-25 04:04:00</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æå–ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ç³»ç»Ÿä¿¡æ¯å­˜åœ¨äº <code>squashfs-root-0</code> ç›®å½•ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/3$ tree -L 2 _dir605L_FW_113.bin.extracted/</span><br><span class="line">_dir605L_FW_113.bin.extracted/</span><br><span class="line">â”œâ”€â”€ 2C10</span><br><span class="line">â”œâ”€â”€ 2C10.7z</span><br><span class="line">â”œâ”€â”€ 89822.squashfs</span><br><span class="line">â”œâ”€â”€ 99834.squashfs</span><br><span class="line">â”œâ”€â”€ squashfs-root</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ mydlink-watch-dog.sh</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ opt.local</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ signalc</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ tsa</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ uplog</span><br><span class="line">â”‚Â Â  â””â”€â”€ version</span><br><span class="line">â””â”€â”€ squashfs-root-0</span><br><span class="line">    â”œâ”€â”€ bin</span><br><span class="line">    â”œâ”€â”€ dev</span><br><span class="line">    â”œâ”€â”€ etc</span><br><span class="line">    â”œâ”€â”€ lib</span><br><span class="line">    â”œâ”€â”€ mydlink</span><br><span class="line">    â”œâ”€â”€ proc</span><br><span class="line">    â”œâ”€â”€ sbin</span><br><span class="line">    â”œâ”€â”€ tmp -&gt; /dev/null</span><br><span class="line">    â”œâ”€â”€ usr</span><br><span class="line">    â”œâ”€â”€ var</span><br><span class="line">    â”œâ”€â”€ web</span><br><span class="line">    â””â”€â”€ web-lang -&gt; /dev/null</span><br></pre></td></tr></table></figure>

<h2 id="å°è¯•è¿è¡Œå¹¶ä¿®å¤-Web-æœåŠ¡å™¨ç¨‹åº"><a href="#å°è¯•è¿è¡Œå¹¶ä¿®å¤-Web-æœåŠ¡å™¨ç¨‹åº" class="headerlink" title="å°è¯•è¿è¡Œå¹¶ä¿®å¤ Web æœåŠ¡å™¨ç¨‹åº"></a>å°è¯•è¿è¡Œå¹¶ä¿®å¤ Web æœåŠ¡å™¨ç¨‹åº</h2><p>ä½¿ç”¨ QEMU è¿›è¡Œæ¨¡æ‹Ÿè¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ <span class="built_in">cp</span> $(<span class="built_in">which</span> qemu-mips-static) .</span><br><span class="line"></span><br><span class="line">embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ sudo <span class="built_in">chroot</span> . ./qemu-mips-static ./bin/boa</span><br><span class="line">Initialize AP MIB failed!</span><br><span class="line">qemu: uncaught target signal 11 (Segmentation fault) - core dumped</span><br><span class="line">Segmentation fault</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°æŠ¥é”™ï¼Œä¿¡æ¯ä¸º <code>Initialize AP MIB failed</code>ï¼Œåœ¨ <code>JEB</code> æ‰“å¼€ <code>boa</code> è¿›è¡Œå­—ç¬¦ä¸²å¯»æ‰¾<br><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205051207608.png"><br>æ— è®ºæ˜¯æ ¹æ®åæ±‡ç¼–è¿›è¡ŒæŸ¥çœ‹ï¼Œè¿˜æ˜¯è¿›è¡Œåç¼–è¯‘æŸ¥çœ‹ï¼Œéƒ½èƒ½çœ‹åˆ°é€šè¿‡ <code>apmib_init</code> è¿›è¡Œåˆå§‹åŒ–<br><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205051225819.png"><br>ä½¿ç”¨ JEB æŸ¥çœ‹ <code>apmib.so</code> ä¸­çš„ <code>apmib_init</code>ï¼Œæ­£å¸¸è¿”å›å€¼åº”ä¸º 1<br><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205051230467.png"></p>
<p>å› æ­¤ç¼–å†™å‡½æ•°è¿›è¡ŒåŠ«æŒ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">apmib_init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Fake it</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘å¹¶å†æ¬¡è¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ mips-linux-gnu-gcc -Wall -fPIC -shared apmib.c -o apmib-ld.so</span><br><span class="line"></span><br><span class="line">$ embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ sudo <span class="built_in">chroot</span> . ./qemu-mips-static -E LD_PRELOAD=<span class="string">&quot;/apmib-ld.so&quot;</span> ./bin/boa</span><br><span class="line">Create chklist file error!</span><br><span class="line">Create chklist file error!</span><br><span class="line">qemu: uncaught target signal 11 (Segmentation fault) - core dumped</span><br><span class="line">Segmentation fault</span><br></pre></td></tr></table></figure>

<p>ä¾æ—§æŠ¥é”™ï¼Œæ‰‹ä¸Šæ²¡æœ‰ IDA å°è¯•å¯ç”¨åŠ¨æ€è°ƒè¯•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ sudo <span class="built_in">chroot</span> . ./qemu-mips-static -E LD_PRELOAD=<span class="string">&quot;/apmib-ld.so&quot;</span> -g 1234 ./bin/boa</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205051527711.png"></p>
<p>è¿™é‡Œç»“åˆ JEB åæ±‡ç¼–èƒ½çœ‹å‡ºæ¥å±äº apmib_getï¼Œä½†æ˜¯å…¶ä»£ç åŠŸèƒ½åˆ†æå°±æš‚æ—¶ä¸åšäº†ï¼Œæ•´ç†åŠ«æŒå‡½æ•°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MIB_IP_ADDR 170</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MIB_HW_VER 0x250</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MIB_CAPTCHA 0x2C1</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">apmib_init</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// Fake it;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fork</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">apmib_get</span><span class="params">(<span class="type">int</span> code, <span class="type">int</span> *value)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(code)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> MIB_HW_VER:</span><br><span class="line">            *value = <span class="number">0xF1</span>;</span><br><span class="line">        <span class="keyword">case</span> MIB_IP_ADDR:</span><br><span class="line">            *value = <span class="number">0x7F000001</span>;</span><br><span class="line">        <span class="keyword">case</span> MIB_CAPTCHA:</span><br><span class="line">            *value = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘æ‰§è¡Œå¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸè¿è¡Œ boa ç¨‹åº</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ sudo <span class="built_in">chroot</span> . ./qemu-mips-static -E LD_PRELOAD=<span class="string">&quot;/apmib-ld.so&quot;</span> ./bin/boa</span><br><span class="line">Create chklist file error!</span><br><span class="line">Create chklist file error!</span><br><span class="line">hard ver is</span><br><span class="line">Create f/w version file error!</span><br><span class="line">Create chklist file error!</span><br><span class="line">boa: server version Boa/0.94.14rc21</span><br><span class="line">boa: server built May 25 2012 at 13:03:21.</span><br><span class="line">boa: starting server pid=9326, port 80</span><br><span class="line">Unsupported ioctl: cmd=0x89f0</span><br><span class="line">device ioctl:: Function not implemented</span><br><span class="line">Unsupported ioctl: cmd=0x89f0</span><br><span class="line">device ioctl:: Function not implemented</span><br><span class="line">smart 404 ----------------------------------</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">embeded@ubuntu:~/domesticRouter/3/_dir605L_FW_113.bin.extracted/squashfs-root-0$ netstat -an | grep 80</span><br><span class="line">warning, got bogus unix line.</span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      1 192.168.31.110:48678    34.122.121.32:80        SYN_SENT </span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° Web æœåŠ¡å™¨ boa å·²ç»æˆåŠŸè¿è¡Œ</p>
]]></content>
      <categories>
        <category>Iot</category>
        <category>è·¯ç”±å™¨</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>QEMU</tag>
        <tag>MIPS</tag>
      </tags>
  </entry>
  <entry>
    <title>åµŒå…¥å¼ç¯å¢ƒæ­å»º</title>
    <url>/2022/05/03/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<span id="more"></span>

<h1 id="åŸºæœ¬ç¯å¢ƒ"><a href="#åŸºæœ¬ç¯å¢ƒ" class="headerlink" title="åŸºæœ¬ç¯å¢ƒ"></a>åŸºæœ¬ç¯å¢ƒ</h1><h2 id="ç³»ç»Ÿç¯å¢ƒ"><a href="#ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒ"></a>ç³»ç»Ÿç¯å¢ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HOST OS Platform: macOS</span><br><span class="line">HOST OS Version: 10.15</span><br><span class="line">è™šæ‹Ÿæœºè½¯ä»¶ï¼šVMware Fusion 12</span><br><span class="line">OS Platform:  Linux Ubuntu</span><br><span class="line">OS Version: 18.04</span><br><span class="line">Python Version: 3.6.9 (default)</span><br></pre></td></tr></table></figure>

<h2 id="åŸºç¡€è®¾ç½®"><a href="#åŸºç¡€è®¾ç½®" class="headerlink" title="åŸºç¡€è®¾ç½®"></a>åŸºç¡€è®¾ç½®</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ä¸ºä¸­ç§‘å¤§æº</span></span><br><span class="line"></span><br><span class="line">$ sudo apt install build-essential autoconf <span class="comment"># é…ç½®</span></span><br><span class="line">$ sudo apt install tree jnettop htop <span class="comment"># æŸ¥çœ‹ç›®å½•ã€è¿æ¥ã€æ€§èƒ½</span></span><br><span class="line">$ sudo apt install proxychains4 net-tools <span class="comment"># æŸ¥çœ‹é…ç½®ç½‘ç»œ</span></span><br><span class="line">$ sudo apt install git curl wget  <span class="comment"># ä¸‹è½½</span></span><br><span class="line"></span><br><span class="line">$ sudo apt install python3 python3-pip <span class="comment"># python3 ç¯å¢ƒ</span></span><br><span class="line">$ python3 -m pip install --upgrade pip</span><br><span class="line">$ python3 -m pip -V</span><br><span class="line">pip 21.3.1 from /home/embeded/.local/lib/python3.6/site-packages/pip (python 3.6)</span><br></pre></td></tr></table></figure>

<h1 id="è½¯ä»¶ç¯å¢ƒæ­å»ºæµç¨‹"><a href="#è½¯ä»¶ç¯å¢ƒæ­å»ºæµç¨‹" class="headerlink" title="è½¯ä»¶ç¯å¢ƒæ­å»ºæµç¨‹"></a>è½¯ä»¶ç¯å¢ƒæ­å»ºæµç¨‹</h1><h2 id="Binwalk"><a href="#Binwalk" class="headerlink" title="Binwalk"></a>Binwalk</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>Binwalk wiki é“¾æ¥ï¼š<a href="https://github.com/ReFirmLabs/binwalk/wiki">https://github.com/ReFirmLabs/binwalk/wiki</a></p>
<p>å®‰è£…å‚è€ƒé“¾æ¥ï¼š<a href="https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md">https://github.com/ReFirmLabs/binwalk/blob/master/INSTALL.md</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/ReFirmLabs/binwalk.git</span><br><span class="line">$ <span class="built_in">cd</span> binwalk</span><br><span class="line">$ sudo python3 setup.py install</span><br><span class="line">...</span><br><span class="line">Installed /usr/local/lib/python3.6/dist-packages/binwalk-2.3.3-py3.6.egg</span><br><span class="line">Processing dependencies <span class="keyword">for</span> binwalk==2.3.3</span><br><span class="line">Finished processing dependencies <span class="keyword">for</span> binwalk==2.3.3</span><br><span class="line"></span><br><span class="line">$ binwalk </span><br><span class="line"></span><br><span class="line">Binwalk v2.3.3</span><br><span class="line">Craig Heffner, ReFirmLabs</span><br><span class="line">https://github.com/ReFirmLabs/binwalk</span><br><span class="line"></span><br><span class="line">Usage: binwalk [OPTIONS] [FILE1] [FILE2] [FILE3] ...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>ä¾æ® Binwalk wiki æ‰€è¯´ï¼Œå…¶å®‰è£…ä¾èµ–åªæœ‰ python è§£é‡Šå™¨ï¼Œå…¶ä½™æ‰€æœ‰ä¾èµ–éƒ½æ˜¯å¯é€‰çš„è¿è¡Œæ—¶ä¾èµ–ï¼Œç›´æ¥æŒ‰é¡ºåºå…¨éƒ¨å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo python3 -m pip install nose coverage <span class="comment"># æµ‹è¯•/æµ‹è¯•è¦†ç›–ç‡</span></span><br><span class="line"></span><br><span class="line">$ sudo python3 -m pip install pycryptodome <span class="comment"># è§£å¯†çŸ¥ååŠ å¯†å›ºä»¶</span></span><br><span class="line"></span><br><span class="line">$ sudo apt-get install libqt4-opengl python3-opengl python3-pyqt4 python3-pyqt4.qtopengl python3-numpy python3-scipy</span><br><span class="line">$ sudo python3 -m pip install pyqtgraph <span class="comment"># ç”Ÿæˆå›¾åŠå¯è§†åŒ–</span></span><br><span class="line"></span><br><span class="line">$ sudo python3 -m pip install capstone <span class="comment"># åæ±‡ç¼–æ¡†æ¶ Python-bindings</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢å¤–çš„å·¥å…·è‡ªåŠ¨æŠ½å–/è§£å‹æ–‡ä»¶å’Œæ•°æ®  </span></span><br><span class="line"><span class="comment"># æ ‡å‡†è§£å‹å·¥å…·</span></span><br><span class="line">$ sudo apt-get install mtd-utils gzip bzip2 tar arj lhasa p7zip p7zip-full cabextract cramfsswap squashfs-tools sleuthkit default-jdk lzop srecord</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹éæ ‡å‡† SquashFS é•œåƒ</span></span><br><span class="line">$ sudo apt-get install zlib1g-dev liblzma-dev liblzo2-dev</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/devttys0/sasquatch</span><br><span class="line">$ (<span class="built_in">cd</span> sasquatch &amp;&amp; ./build.sh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹ JFFS2 æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">$ sudo python3 -m pip install cstruct</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/sviehb/jefferson</span><br><span class="line">$ (<span class="built_in">cd</span> jefferson &amp;&amp; sudo python3 setup.py install)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹ UBIFS æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">$ sudo apt-get install liblzo2-dev python-lzo</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/jrspruitt/ubi_reader</span><br><span class="line">$ (<span class="built_in">cd</span> ubi_reader &amp;&amp; sudo python3 setup.py install)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹ YAFFS æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/devttys0/yaffshiv</span><br><span class="line">$ (<span class="built_in">cd</span> yaffshiv &amp;&amp; sudo python3 setup.py install)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é’ˆå¯¹ StuffIt å‹ç¼©æ–‡ä»¶</span></span><br><span class="line">$ wget -O - http://downloads.tuxfamily.org/sdtraces/stuffit520.611linux-i386.tar.gz | tar -zxv</span><br><span class="line">$ sudo <span class="built_in">cp</span> bin/unstuff /usr/local/bin/</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h3><p>:exclamation: æŒ‰ç…§åŸæ–‡å®‰è£…è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ <code>E: Unable to locate package cramfsprogs</code> éœ€è¦æ‰‹åŠ¨å®‰è£…è¿™ä¸ªåŒ…<br>å®‰è£…åŒ…éƒ½å¯ä»¥ä» <a href="https://launchpad.net/ubuntu">https://launchpad.net/ubuntu</a> æŸ¥æ‰¾</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ wget -c https://launchpad.net/ubuntu/+archive/primary/+files/cramfsprogs_1.1-6ubuntu1_amd64.deb</span><br><span class="line">$ sudo dpkg -i cramfsprogs_1.1-6ubuntu1_amd64.deb</span><br></pre></td></tr></table></figure>

<p>ã€optionalã€‘ binwalk plugin for ida in linux</p>
<p>è‡³æ­¤ binwalk ç®—æ˜¯å®‰è£…å¥½äº†ï¼Œè‡³äºä½¿ç”¨æ”¾åœ¨åè¯å§</p>
<h2 id="QEMU"><a href="#QEMU" class="headerlink" title="QEMU"></a>QEMU</h2><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>qemu github é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/qemu/qemu">https://github.com/qemu/qemu</a></p>
<p>qemu å®˜ç½‘ï¼š<a href="https://www.qemu.org/">https://www.qemu.org/</a></p>
<p>å‚è€ƒç½‘ç«™æä¾›çš„å®‰è£…æ–¹å¼ï¼Œç›®å‰ç›´æ¥ä½¿ç”¨ <code>apt</code> å®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo apt install qemu</span><br><span class="line">Suggested packages:</span><br><span class="line">  qemu-user-static samba vde2 qemu-efi openbios-ppc openhackware</span><br><span class="line">  openbios-sparc sgabios ovmf debootstrap sharutils-doc bsd-mailx | mailx</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  binfmt-support cpu-checker ibverbs-providers ipxe-qemu</span><br><span class="line">  ipxe-qemu-256k-compat-efi-roms libaio1 libcacard0 libfdt1 libibverbs1</span><br><span class="line">  libiscsi7 libnl-route-3-200 librados2 librbd1 librdmacm1 libsdl1.2debian</span><br><span class="line">  libspice-server1 libusbredirparser1 libxen-4.9 libxenstore3.0 msr-tools qemu</span><br><span class="line">  qemu-block-extra qemu-slof qemu-system qemu-system-arm qemu-system-common</span><br><span class="line">  qemu-system-mips qemu-system-misc qemu-system-ppc qemu-system-s390x</span><br><span class="line">  qemu-system-sparc qemu-system-x86 qemu-user qemu-user-binfmt qemu-utils</span><br><span class="line">  seabios sharutils</span><br><span class="line"><span class="comment"># å¯ä»¥çœ‹åˆ° qemu-utils qemu-user qemu-system éƒ½è‡ªåŠ¨å®‰è£…æˆåŠŸ</span></span><br><span class="line">$ qemu-</span><br><span class="line">qemu-aarch64              qemu-ppc                  qemu-system-mipsel</span><br><span class="line">qemu-alpha                qemu-ppc64                qemu-system-moxie</span><br><span class="line">qemu-arm                  qemu-ppc64abi32           qemu-system-nios2</span><br><span class="line">qemu-armeb                qemu-ppc64le              qemu-system-or1k</span><br><span class="line">qemu-cris                 qemu-s390x                qemu-system-ppc</span><br><span class="line">qemu-hppa                 qemu-sh4                  qemu-system-ppc64</span><br><span class="line">qemu-i386                 qemu-sh4eb                qemu-system-ppc64le</span><br><span class="line">qemu-img                  qemu-sparc                qemu-system-ppcemb</span><br><span class="line">qemu-io                   qemu-sparc32plus          qemu-system-s390x</span><br><span class="line">qemu-m68k                 qemu-sparc64              qemu-system-sh4</span><br><span class="line">qemu-make-debian-root     qemu-system-aarch64       qemu-system-sh4eb</span><br><span class="line">qemu-microblaze           qemu-system-alpha         qemu-system-sparc</span><br><span class="line">qemu-microblazeel         qemu-system-arm           qemu-system-sparc64</span><br><span class="line">qemu-mips                 qemu-system-cris          qemu-system-tricore</span><br><span class="line">qemu-mips64               qemu-system-i386          qemu-system-unicore32</span><br><span class="line">qemu-mips64el             qemu-system-lm32          qemu-system-x86_64</span><br><span class="line">qemu-mipsel               qemu-system-m68k          qemu-system-xtensa</span><br><span class="line">qemu-mipsn32              qemu-system-microblaze    qemu-system-xtensaeb</span><br><span class="line">qemu-mipsn32el            qemu-system-microblazeel  qemu-tilegx</span><br><span class="line">qemu-nbd                  qemu-system-mips          qemu-x86_64</span><br><span class="line">qemu-nios2                qemu-system-mips64        </span><br><span class="line">qemu-or1k                 qemu-system-mips64el </span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾æ®å»ºè®®çš„å®‰è£…åŒ…æ‰‹åŠ¨å®‰è£…</span></span><br><span class="line">$ sudo apt install qemu-user-static</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="äº¤å‰ç¼–è¯‘ç¯å¢ƒ"><a href="#äº¤å‰ç¼–è¯‘ç¯å¢ƒ" class="headerlink" title="äº¤å‰ç¼–è¯‘ç¯å¢ƒ"></a>äº¤å‰ç¼–è¯‘ç¯å¢ƒ</h2><h3 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>äº¤å‰ç¼–è¯‘è¿™ä¸ªåå­—å…¶å®æœ‰æ—¶å€™å¾ˆè´¹è§£ï¼Œè¿˜ä¸å¦‚ç›´æ¥<strong>è·¨æ¶æ„ç¼–è¯‘</strong>ï¼Œå³èƒ½å¤Ÿåœ¨ä¸€ä¸ªä½“ç³»æ¶æ„ä¸‹ç¼–è¯‘å¦ä¸€ä¸ªä½“ç³»æ¶æ„çš„ç¨‹åº<br>ğŸŒ° åœ¨ X86_64 Ubuntu è™šæ‹Ÿæœºä¸‹èƒ½å¤Ÿç¼–è¯‘ MIPS ç¨‹åº</p>
<p>ğŸ§ å®‰è£…ä¼¼ä¹å¯ä»¥åˆ†æˆ <strong>æ‰‹åŠ¨ buildroot æºç ç¼–è¯‘</strong> å’Œ <strong>è‡ªåŠ¨ apt å®‰è£…</strong><br><strong>è‡ªåŠ¨å®‰è£…</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥ MIPS å°ç«¯åº æ¶æ„ä¸ºä¾‹ è‡ªåŠ¨å®‰è£…</span></span><br><span class="line">$ sudo apt install gcc-mipsel-linux-gnu </span><br><span class="line">$ sudo apt install gcc-multilib-mipsel-linux-gnu</span><br><span class="line">$ mipsel-linux-gnu-</span><br><span class="line">mipsel-linux-gnu-addr2line     mipsel-linux-gnu-gcov-7</span><br><span class="line">mipsel-linux-gnu-ar            mipsel-linux-gnu-gcov-dump</span><br><span class="line">mipsel-linux-gnu-as            mipsel-linux-gnu-gcov-dump-7</span><br><span class="line">mipsel-linux-gnu-c++filt       mipsel-linux-gnu-gcov-tool</span><br><span class="line">mipsel-linux-gnu-cpp           mipsel-linux-gnu-gcov-tool-7</span><br><span class="line">mipsel-linux-gnu-cpp-7         mipsel-linux-gnu-gprof</span><br><span class="line">mipsel-linux-gnu-dwp           mipsel-linux-gnu-ld</span><br><span class="line">mipsel-linux-gnu-elfedit       mipsel-linux-gnu-ld.bfd</span><br><span class="line">mipsel-linux-gnu-gcc           mipsel-linux-gnu-ld.gold</span><br><span class="line">mipsel-linux-gnu-gcc-7         mipsel-linux-gnu-nm</span><br><span class="line">mipsel-linux-gnu-gcc-ar        mipsel-linux-gnu-objcopy</span><br><span class="line">mipsel-linux-gnu-gcc-ar-7      mipsel-linux-gnu-objdump</span><br><span class="line">mipsel-linux-gnu-gcc-nm        mipsel-linux-gnu-ranlib</span><br><span class="line">mipsel-linux-gnu-gcc-nm-7      mipsel-linux-gnu-readelf</span><br><span class="line">mipsel-linux-gnu-gcc-ranlib    mipsel-linux-gnu-size</span><br><span class="line">mipsel-linux-gnu-gcc-ranlib-7  mipsel-linux-gnu-strings</span><br><span class="line">mipsel-linux-gnu-gcov          mipsel-linux-gnu-strip</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰€æœ‰çš„åº“éƒ½å®‰è£…å¥½</span></span><br><span class="line">$ <span class="built_in">ls</span> /usr/mipsel-linux-gnu/</span><br><span class="line">bin  include  lib  lib32  lib64</span><br></pre></td></tr></table></figure>

<h3 id="å‡ºç°çš„é—®é¢˜-1"><a href="#å‡ºç°çš„é—®é¢˜-1" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h3><p><strong>è‡ªåŠ¨å®‰è£…</strong><br>åœ¨è¿è¡ŒåŠ¨æ€ç¼–è¯‘ç¨‹åºæ—¶ï¼Œä¼šå‡ºç°æ— æ³•æ‰¾åˆ°è¿è¡Œåº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/domesticRouter/2$ file hellomips2</span><br><span class="line">hellomips2: ELF 32-bit LSB executable, MIPS, MIPS32 rel2 version 1 (SYSV), dynamically linked, interpreter /lib/ld.so.1, <span class="keyword">for</span> GNU/Linux 3.2.0, BuildID[sha1]=102923f6f07c0954cdcec2091a8e65988d646527, not stripped</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ ./hellomips2</span><br><span class="line">/lib/ld.so.1: No such file or directory</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ qemu-mipsel hellomips2</span><br><span class="line">/lib/ld.so.1: No such file or directory</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ qemu-mipsel-static hellomips2</span><br><span class="line">/lib/ld.so.1: No such file or directory</span><br><span class="line"></span><br><span class="line"><span class="comment"># çŒœæµ‹æ˜¯åŠ¨æ€ç¼–è¯‘çš„ç¨‹åºé»˜è®¤å» /lib ä¸‹è¿›è¡Œå¯»æ‰¾åŠ¨æ€é“¾æ¥åº“</span></span><br><span class="line"><span class="comment"># ä¸¤ç§è§£å†³åŠæ³•</span></span><br><span class="line"><span class="comment"># 1. å°†åŠ¨æ€é“¾æ¥åº“ç›´æ¥å¤åˆ¶åˆ° /lib ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤è¡Œæ‰§è¡Œæ¨¡æ‹Ÿï¼Œã€æ„Ÿè§‰ç¯å¢ƒä¼šè¢«æä¹±</span></span><br><span class="line">embeded@ubuntu:/usr/mipsel-linux-gnu/lib$ sudo <span class="built_in">cp</span> ld.so.1 /lib</span><br><span class="line">embeded@ubuntu:/usr/mipsel-linux-gnu/lib$ <span class="built_in">ls</span> /lib</span><br><span class="line">apparmor       hdparm                                lsb            terminfo</span><br><span class="line">brltty         ifupdown                              modprobe.d     udev</span><br><span class="line">console-setup  init                                  modules        ufw</span><br><span class="line">cpp            klibc-IYXwqr0atR70aQDgNUuRThfwUwA.so  netplan        x86_64-linux-gnu</span><br><span class="line">crda           ld.so.1                               recovery-mode</span><br><span class="line">firmware       linux-sound-base                      systemd</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ qemu-mipsel-static hellomips2 <span class="string">&quot;can run&quot;</span></span><br><span class="line">can run</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ qemu-mipsel hellomips2 <span class="string">&quot;can run&quot;</span></span><br><span class="line">can run</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å°†åŠ¨æ€åº“å’Œé™æ€ç¼–è¯‘æ¨¡æ‹Ÿç¨‹åºqemu-mipsel-staticå¤åˆ¶åˆ°éœ€è¦æ¨¡æ‹Ÿçš„ç¨‹åºæ‰€åœ¨ç›®å½•ä¸‹ï¼Œæ‰§è¡Œæ¨¡æ‹Ÿ ã€æ„Ÿè§‰æ¯”ç¬¬ä¸€ç§é€‰æ‹©å¥½</span></span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ <span class="built_in">cp</span> -r /usr/mipsel-linux-gnu/lib .</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ <span class="built_in">cp</span> $(<span class="built_in">which</span> qemu-mipsel-static) .</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ sudo <span class="built_in">chroot</span> . ./qemu-mipsel-static hellomips2 <span class="string">&quot;can run&quot;</span></span><br><span class="line">can run</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åœ¨æ¨¡æ‹Ÿæ—¶æ·»åŠ è·¯å¾„ ã€æ„Ÿè§‰æœ€ç®€å•</span></span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ qemu-mipsel -L <span class="string">&quot;/usr/mipsel-linux-gnu&quot;</span> hellomips2 <span class="string">&quot;can run&quot;</span></span><br><span class="line">can run</span><br></pre></td></tr></table></figure>

<p><strong>ç¥å¥‡çš„æœªç†è§£çš„ç°è±¡</strong><br>åœ¨ç†è®ºæ¥è¯´ï¼Œä¸åŒæ¶æ„çš„ç¨‹åºæ˜¯ä¸èƒ½è¿è¡Œçš„ï¼Œä½†æ˜¯åœ¨é™æ€ç¼–è¯‘åå´èƒ½å¤Ÿè¿è¡Œï¼Œæœ‰ç‚¹è´¹è§£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°è¯•ç¨‹åºä¸º å®¶ç”¨è·¯ç”±å™¨æ¼æ´ ä¸€ä¹¦ç¬¬äºŒç«  hello å’Œ é™æ€äº¤å‰ç¼–è¯‘çš„ hellomips</span></span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ file hello</span><br><span class="line">hello: ELF 32-bit MSB executable, MIPS, MIPS32 version 1 (SYSV), statically linked, not stripped</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ file hellomips</span><br><span class="line">hellomips: ELF 32-bit LSB executable, MIPS, MIPS32 rel2 version 1 (SYSV), statically linked, <span class="keyword">for</span> GNU/Linux 3.2.0, BuildID[sha1]=a0c1b5ffe47a77b693643e4637baa72d4496a962, not stripped</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ <span class="built_in">uname</span> -a </span><br><span class="line">Linux ubuntu 5.4.0-84-generic <span class="comment">#94~18.04.1-Ubuntu SMP Thu Aug 26 23:17:46 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span></span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ ./hello <span class="string">&quot;Why can run&quot;</span></span><br><span class="line">Why can run</span><br><span class="line">embeded@ubuntu:~/domesticRouter/2$ ./hellomips <span class="string">&quot;Why can run&quot;</span></span><br><span class="line">Why can run</span><br></pre></td></tr></table></figure>

<h1 id="è½¯ä»¶ç¯å¢ƒé…ç½®æµç¨‹"><a href="#è½¯ä»¶ç¯å¢ƒé…ç½®æµç¨‹" class="headerlink" title="è½¯ä»¶ç¯å¢ƒé…ç½®æµç¨‹"></a>è½¯ä»¶ç¯å¢ƒé…ç½®æµç¨‹</h1><h2 id="MIPS-ç³»ç»Ÿç½‘ç»œé…ç½®"><a href="#MIPS-ç³»ç»Ÿç½‘ç»œé…ç½®" class="headerlink" title="MIPS ç³»ç»Ÿç½‘ç»œé…ç½®"></a>MIPS ç³»ç»Ÿç½‘ç»œé…ç½®</h2><p><strong>å®‰è£…å·¥å…·åº“</strong></p>
<p>å®‰è£… User mode Linux å·¥å…·,User Mode Linux èƒ½å¤Ÿä»¥ç”¨æˆ·æ€å¯åŠ¨ Linux å†…æ ¸ï¼Œæä¾›äº†ä¸€ç§è™šæ‹Ÿæœºï¼Œå°† Linux ä½œä¸ºç”¨æˆ·è¿›ç¨‹è¿è¡Œåœ¨å¦ä¸€ä¸ª Linux å†…æ ¸ä¸‹ã€‚ è¿™å¯¹äºå†…æ ¸å¼€å‘ã€æ²™ç›’ã€ç›‘ç¦ã€å®éªŒå’Œè®¸å¤šå…¶ä»–äº‹æƒ…å¾ˆæœ‰ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo apt install uml-utilities</span><br><span class="line">embeded@ubuntu:~$ uml_</span><br><span class="line">uml_mconsole  uml_moo       uml_switch    </span><br><span class="line">uml_mkcow     uml_mount     uml_watchdog</span><br></pre></td></tr></table></figure>
<p>å®‰è£… Linux ç½‘æ¡¥å·¥å…·,èƒ½å¤Ÿåˆ›å»ºå’Œç®¡ç†ç½‘æ¡¥è®¾å¤‡ï¼Œå¯ä¸ºVMè®¾ç½®ç½‘ç»œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo apt install bridge-utils</span><br></pre></td></tr></table></figure>
<p><strong>é…ç½®ä¸»æœºç½‘ç»œ</strong><br>è¦æ„å»ºæ¨¡æ‹Ÿç³»ç»Ÿçš„ç½‘ç»œé…ç½®ï¼Œéœ€è¦åœ¨ä¸»æœºç½‘ç»œé…ç½®ç½‘ç»œæ¥å£ï¼ŒæŸ¥çœ‹ç³»ç»Ÿç½‘ç»œé…ç½® å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªç½‘ç»œæ¥å£ä¸º ens33 å’Œ lo</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ ifconfig </span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.31.111  netmask 255.255.255.0  broadcast 192.168.31.255</span><br><span class="line">        inet6 fe80::ae68:bfd8:87e6:7a5e  prefixlen 64  scopeid 0x20&lt;<span class="built_in">link</span>&gt;</span><br><span class="line">        ether 00:0c:29:83:f8:e7  txqueuelen 1000  (Ethernet)</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ä¸»æœºç½‘ç»œé…ç½® å°† ens33 ä½œä¸ºæ¡¥æ¥ç«¯å£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo nano /etc/network/interfaces</span><br><span class="line"><span class="comment"># interfaces(5) file used by ifup(8) and ifdown(8)</span></span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line">auto ens33      </span><br><span class="line">iface ens33 inet dhcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># auto br0</span></span><br><span class="line">iface br0 inet dhcp</span><br><span class="line">  bridge_ports ens33</span><br><span class="line">  bridge_maxwait 0</span><br></pre></td></tr></table></figure>

<!-- **ä¿®æ”¹ QEMU ç½‘ç»œæ¥å£è„šæœ¬**
ç”±äº ``qemu-ifup`` æ–‡ä»¶æ—©å·²å­˜åœ¨ï¼Œç›´æ¥åœ¨è„šæœ¬åé¢æ·»åŠ ï¼Œèƒ½å¤Ÿæ”¯æŒ QEMU åœ¨å¯åŠ¨æ—¶å¤„ç†ç½‘ç»œ
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo nano /etc/qemu-ifup</span><br><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Executing /etc/qemu-ifup&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Bridge up <span class="variable">$1</span> for bridged mode...&quot;</span></span><br><span class="line">sudo /sbin/ifconfig <span class="variable">$1</span> 0.0.0.0 promisc up</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Adding <span class="variable">$1</span> to br0...&quot;</span></span><br><span class="line">sudo /sbin/brct1 addif br0 <span class="variable">$1</span></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line">``` --&gt;</span><br><span class="line"></span><br><span class="line">**é‡å¯ç½‘ç»œ**</span><br><span class="line">ä¸ºäº†ä½¿é…ç½®ç”Ÿæ•ˆï¼Œéœ€è¦å°†ç½‘ç»œè¿›è¡Œé‡å¯</span><br><span class="line">```bash</span><br><span class="line">embeded@ubuntu:~$ sudo /etc/init.d/networking restart</span><br><span class="line">[ ok ] Restarting networking (via systemctl): networking.service.</span><br></pre></td></tr></table></figure>

<p><strong>å¯ç”¨æ¡¥æ¥ç½‘ç»œ</strong><br>å…ˆå…³é—­ ens33 ç«¯å£ï¼ŒæŸ¥çœ‹ç½‘ç»œæ¥å£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo ifdown ens33</span><br><span class="line">...</span><br><span class="line">DHCPRELEASE on ens33 to 192.168.31.1 port 67 (xid=0x297aad1a)</span><br><span class="line"></span><br><span class="line">embeded@ubuntu:~$ ifconfig </span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å¼€å¯ br0 æ¡¥æ¥ç«¯å£ï¼Œé‡æ–°æŸ¥çœ‹ç½‘ç»œæ¥å£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~$ sudo ifup br0</span><br><span class="line">...</span><br><span class="line">DHCPDISCOVER on br0 to 255.255.255.255 port 67 interval 3 (xid=0x6dfa5573)</span><br><span class="line">DHCPREQUEST of 192.168.31.111 on br0 to 255.255.255.255 port 67 (xid=0x7355fa6d)</span><br><span class="line">DHCPOFFER of 192.168.31.111 from 192.168.31.1</span><br><span class="line">DHCPACK of 192.168.31.111 from 192.168.31.1</span><br><span class="line">bound to 192.168.31.111 -- renewal <span class="keyword">in</span> 16622 seconds.</span><br><span class="line"></span><br><span class="line">embeded@ubuntu:~$ ifconfig </span><br><span class="line">br0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.31.111  netmask 255.255.255.0  broadcast 192.168.31.255</span><br><span class="line"></span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.31.111  netmask 255.255.255.0  broadcast 192.168.31.255</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹MIPSç³»ç»Ÿç½‘ç»œ</strong><br>ä»¥ MIPS å¤§ç«¯ç³»ç»Ÿä¸ºä¾‹ï¼Œè™šæ‹Ÿæœºæ–‡ä»¶åœ°å€: <a href="https://people.debian.org/~aurel32/qemu/mips/">https://people.debian.org/~aurel32/qemu/mips/</a> é€‰ç”¨ <code>vmlinux-2.6.32-5-4kc-malta</code> å†…æ ¸æ–‡ä»¶åŠ <code>debian_squeeze_mips_standard.qcow2</code> ç£ç›˜é•œåƒ</p>
<p>å¯åŠ¨ MIPS è™šæ‹Ÿæœº</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">embeded@ubuntu:~/Desktop$ sudo qemu-system-mips -M malta -kernel vmlinux-2.6.32-5-4kc-malta -hda debian_squeeze_mips_standard.qcow2 -append <span class="string">&quot;root=/dev/sda1 console=tty0&quot;</span> -net nic,macaddr=00:16:3e:00:00:01 -net tap -nographic</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpuset</span><br><span class="line">[    0.000000] Initializing cgroup subsys cpu</span><br><span class="line">...</span><br><span class="line"><span class="comment"># è´¦å·å¯†ç å‡ä¸º root</span></span><br><span class="line">debian-mips login: root</span><br><span class="line">Password: </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç½‘ç»œæ¥å£</span></span><br><span class="line">root@debian-mips:~<span class="comment"># ifconfig -a</span></span><br><span class="line">eth1      Link encap:Ethernet  HWaddr 00:16:3e:00:00:01  </span><br><span class="line">          BROADCAST MULTICAST  MTU:1500  Metric:1</span><br><span class="line"></span><br><span class="line">lo        Link encap:Local Loopback  </span><br><span class="line">          inet addr:127.0.0.1  Mask:255.0.0.0</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹MIPSç³»ç»Ÿç½‘ç»œé…ç½®æ–‡ä»¶ <code>/etc/network/interfaces</code>, å°† <code>eh0</code> æ›¿æ¢æˆ <code>eh1</code>ï¼Œå¹¶å¯åŠ¨ <code>en1</code> æ¥å£</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@debian-mips:~# nano /etc/network/interfaces</span><br><span class="line"># This file describes the network interfaces available on your system</span><br><span class="line"># and how to activate them. For more information, see interfaces(5).</span><br><span class="line"></span><br><span class="line"># The loopback network interface</span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line"># The primary network interface</span><br><span class="line">allow-hotplug eth1</span><br><span class="line">iface eth1 inet dhcp</span><br><span class="line"></span><br><span class="line">root@debian-mips:~# ifup eth1</span><br><span class="line">...</span><br><span class="line">bound to 192.168.31.170 -- renewal in 21254 seconds.</span><br><span class="line"></span><br><span class="line">root@debian-mips:~# ifconfig </span><br><span class="line">eth1      Link encap:Ethernet  HWaddr 00:16:3e:00:00:01  </span><br><span class="line">          inet addr:192.168.31.170  Bcast:192.168.31.255  Mask:255.255.255.0</span><br><span class="line"></span><br><span class="line">lo        Link encap:Local Loopback  </span><br><span class="line">          inet addr:127.0.0.1  Mask:255.0.0.0</span><br><span class="line"></span><br><span class="line">root@debian-mips:~# ping 192.168.31.111</span><br><span class="line">PING 192.168.31.111 (192.168.31.111) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.31.111: icmp_req=1 ttl=64 time=6.43 ms</span><br><span class="line"></span><br><span class="line">root@debian-mips:~# ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (112.80.248.76) 56(84) bytes of data.</span><br><span class="line">64 bytes from 112.80.248.76: icmp_req=1 ttl=47 time=38.3 ms</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ MIPS ç³»ç»Ÿçš„ç½‘ç»œç®—æ˜¯é…ç½®å®Œæˆï¼Œæ¥ä¸‹æ¥å°±èƒ½å¤Ÿä½¿ç”¨ ssh å¯¹å…¶è¿›è¡Œç®¡ç†</p>
]]></content>
      <categories>
        <category>Iot</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>QEMU</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ªäººåšå®¢æ­å»ºè®°å½•[2]</title>
    <url>/2022/05/02/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95-2/</url>
    <content><![CDATA[<span id="more"></span>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">OS Platform: macOS</span><br><span class="line">OS Version: 10.15</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ªæ€§åŒ–é…ç½®"><a href="#ä¸ªæ€§åŒ–é…ç½®" class="headerlink" title="ä¸ªæ€§åŒ–é…ç½®"></a>ä¸ªæ€§åŒ–é…ç½®</h3><p><strong>æ›´æ¢ä¸»é¢˜</strong><br>ä¸»é¢˜æ˜¯åšå®¢é¡µé¢çš„å±•ç¤ºæ–¹å¼ï¼Œä¸å–œæ¬¢å½“å‰ä¸»é¢˜å¯ä»¥è¿›è¡Œæ›´æ¢</p>
<p>hexo ä¸»é¢˜é¡µé¢ï¼š<a href="https://hexo.io/themes/">https://hexo.io/themes/</a><br>æœ¬æ–‡é‡‡ç”¨ <a href="https://github.com/theme-next/hexo-theme-next">Next</a> ä¸»é¢˜</p>
<p>ä¸‹è½½ thems åˆ°åšå®¢æ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç«™ç‚¹çš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€ä¸»é¢˜çš„é…ç½®æ–‡ä»¶è¿›è¡Œ Scheme Settings</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment"># scheme: Muse</span></span><br><span class="line"><span class="comment"># scheme: Mist</span></span><br><span class="line"><span class="comment"># scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure>
<p>é‡æ–°ç¼–è¯‘å¹¶éƒ¨ç½²å³å¯</p>
<p><strong>ä¿®æ”¹ç›®å½•</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Menu Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br></pre></td></tr></table></figure>

<p><strong>æ›´æ¢å¤´åƒ</strong><br>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å›¾ç‰‡åŠ è¿›å»å³å¯</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.jpeg</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æ·»åŠ ç¤¾äº¤ç½‘ç»œ</strong></p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/darenfy</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:darenfy@gmail.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br></pre></td></tr></table></figure>
<p><strong>å¢åŠ é˜…è¯»å…¨æ–‡åŠŸèƒ½</strong></p>
<p><strong>å¼€å¯æ–‡ç« ç›®å½•</strong></p>
<h3 id="Hexo-ä½¿ç”¨"><a href="#Hexo-ä½¿ç”¨" class="headerlink" title="Hexo ä½¿ç”¨"></a>Hexo ä½¿ç”¨</h3><h4 id="å¦‚ä½•å†™æ–‡ç« "><a href="#å¦‚ä½•å†™æ–‡ç« " class="headerlink" title="å¦‚ä½•å†™æ–‡ç« "></a>å¦‚ä½•å†™æ–‡ç« </h4><p>å‘½ä»¤è¡Œè¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n <span class="string">&#x27;blog name&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å°±èƒ½çœ‹åˆ°åœ¨ <code>source</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºäº† <code>blog name.md</code> æ–‡ä»¶ï¼Œ</p>
<h4 id="æ­å»ºå›¾åºŠ"><a href="#æ­å»ºå›¾åºŠ" class="headerlink" title="æ­å»ºå›¾åºŠ"></a>æ­å»ºå›¾åºŠ</h4><p>ä½¿ç”¨ picGo åœ¨ github ä¸Šæ„å»ºå…è´¹å›¾åºŠï¼Œå…·ä½“è®¾ç½®è¯·å‚è€ƒ <a href="https://picgo.github.io/PicGo-Doc/zh/guide/">https://picgo.github.io/PicGo-Doc/zh/guide/</a></p>
<h3 id="Hexo-å¤‡ä»½"><a href="#Hexo-å¤‡ä»½" class="headerlink" title="Hexo å¤‡ä»½"></a>Hexo å¤‡ä»½</h3><p><a href="http://www.xiaoliblog.cn/page/hexobackup.html#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6">hexo-git-backup åšå®¢å¤‡ä»½åŠæ¢å¤</a><br><a href="https://github.com/coneycode/hexo-git-backup">git-backup</a></p>
<h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><ol>
<li>åœ¨è¿›è¡Œä¸ªæ€§åŒ–é…ç½®çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæƒ³è¦å®æ—¶æŸ¥çœ‹é…ç½®æ•ˆæœï¼Œç›´æ¥é‡‡ç”¨æœ¬åœ° <code>hexo s</code></li>
</ol>
<h4 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h4><p><a href="https://www.mdnice.com/writing/382af676baff4ed4ad5511074fb736da">https://www.mdnice.com/writing/382af676baff4ed4ad5511074fb736da</a></p>
<p><a href="https://blog.51cto.com/u_12877374/2853898">Hexoåšå®¢NexTä¸»é¢˜å¼€å¯æ–‡ç« ç›®å½•å’Œè°ƒæ•´æ ·å¼</a></p>
<p><a href="http://theme-next.iissnan.com/theme-settings.html">ä¸»é¢˜é…ç½®</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/460818216">hexoåšå®¢æ–°å¢RSSåŠŸèƒ½æ”¯æŒ</a></p>
<p><a href="https://tding.top/archives/42c38b10.html">Hexo-NexT (v7.0+) ä¸»é¢˜é…ç½®</a></p>
]]></content>
      <categories>
        <category>å°æŠ€å·§</category>
      </categories>
      <tags>
        <tag>blogæ­å»º</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ªäººåšå®¢æ­å»ºè®°å½•[1]</title>
    <url>/2022/05/02/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95-1/</url>
    <content><![CDATA[<span id="more"></span>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">OS Type: macOS</span><br><span class="line">OS Version: 10.15</span><br><span class="line">git 2.30.0</span><br><span class="line">node v16.11.0</span><br><span class="line">npm 8.0.0</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h3><p><strong>å®‰è£… hexo</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line">$ hexo --version</span><br><span class="line">hexo-cli: 4.3.0</span><br><span class="line">os: darwin 19.6.0 10.15.7</span><br><span class="line"></span><br><span class="line">node: 16.11.0</span><br><span class="line">v8: 9.4.146.19-node.13</span><br><span class="line">uv: 1.42.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.9</span><br><span class="line">ares: 1.17.2</span><br><span class="line">modules: 93</span><br><span class="line">nghttp2: 1.45.1</span><br><span class="line">napi: 8</span><br><span class="line">llhttp: 6.0.2</span><br><span class="line">openssl: 1.1.1l</span><br><span class="line">cldr: 39.0</span><br><span class="line">icu: 69.1</span><br><span class="line">tz: 2021a</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure>

<p><strong>åˆå§‹åŒ– hexo</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt; </span><br><span class="line">INFO  Cloning hexo-starter https://github.com/hexojs/hexo-starter.git</span><br><span class="line">INFO  Install dependencies</span><br><span class="line">INFO  Start blogging with Hexo!</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br><span class="line">$ tree -L 1</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.landscape.yml </span><br><span class="line">â”œâ”€â”€ _config.yml <span class="comment"># ç½‘ç«™çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line">â”œâ”€â”€ node_modules</span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ package.json <span class="comment"># åº”ç”¨ç¨‹åºçš„ä¿¡æ¯</span></span><br><span class="line">â”œâ”€â”€ scaffolds <span class="comment"># æ¨¡ç‰ˆæ–‡ä»¶å¤¹ - æ–°å»ºæ–‡ç« æ–‡ä»¶ä¸­é»˜è®¤æ·»åŠ çš„å†…å®¹</span></span><br><span class="line">â”œâ”€â”€ <span class="built_in">source</span> <span class="comment"># å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹</span></span><br><span class="line">â””â”€â”€ themes <span class="comment"># ä¸»é¢˜æ–‡ä»¶å¤¹ - ç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢</span></span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®è¿œç¨‹ä»“åº“</strong><br>åˆ›å»º git ä»“åº“ï¼Œä»“åº“åä¸º <name>.github.io</p>
<p>åœ¨æœ¬åœ°è®¾ç½® git é…ç½®ï¼Œå¹¶å°† ssh å…¬é’¥é…ç½®åˆ° github</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&#x27;&lt;gitname&gt;&#x27;</span></span><br><span class="line">$ git config --global user.email <span class="string">&#x27;&lt;gitemail&gt;&#x27;</span></span><br><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;&lt;gitemail&gt;&quot;</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ ssh æ˜¯å¦è®¾ç½®æˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh git@github.com</span><br><span class="line">PTY allocation request failed on channel 0</span><br><span class="line">Hi Yourname! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br><span class="line"><span class="string">Connection to github.com closed.</span></span><br></pre></td></tr></table></figure>

<p><strong>ç½‘ç«™ä¿¡æ¯é…ç½®</strong><br>é€šè¿‡ <code>_config.yml</code> ä¿®æ”¹é…ç½®</p>
<p>æ­¤å¤„ä¸»è¦è®¾ç½® <code>deploy</code>ï¼šå³ç»™ <code>hexo d</code> è¿›è¡Œé…ç½®å‘ŠçŸ¥ <code>hexo</code> å°† blog éƒ¨ç½²åœ¨å“ªé‡Œ</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repository:</span>  <span class="string">https://github.com/Yourname/Yourname.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…éƒ¨ç½²æ’ä»¶ï¼Œå¹¶éƒ¨ç½²</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">$ hexo clean <span class="comment"># æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">$ hexo g <span class="comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">$ hexo d <span class="comment"># éƒ¨ç½²ç½‘ç«™</span></span><br><span class="line">....</span><br><span class="line">To https://github.com/Yourname/Yourname.github.io.git</span><br><span class="line"> * [new branch]      HEAD -&gt; master</span><br><span class="line">åˆ†æ”¯ <span class="string">&#x27;master&#x27;</span> è®¾ç½®ä¸ºè·Ÿè¸ªæ¥è‡ª <span class="string">&#x27;https://github.com/Yourname/Yourname.github.io.git&#x27;</span> çš„è¿œç¨‹åˆ†æ”¯ <span class="string">&#x27;master&#x27;</span>ã€‚</span><br><span class="line">INFO  Deploy <span class="keyword">done</span>: git</span><br></pre></td></tr></table></figure>

<p><strong>ç»‘å®šåŸŸå</strong><br>ç»‘å®šåŸŸåéœ€è¦ä¸‰æ­¥</p>
<ol>
<li><p>åœ¨åŸŸåæœåŠ¡å•†ä¿®æ”¹è§£æè®°å½•é›†<br>æˆ‘ä½¿ç”¨çš„åä¸ºäº‘ï¼Œè®¾ç½® A å’Œ CNAME è®°å½•å¦‚ä¸‹å›¾<br><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205021542680.png"><br>A è®°å½•å¯ä»¥é€šè¿‡ç«™é•¿å·¥å…·è¿›è¡ŒæŸ¥è¯¢ <name>.github.io çš„ ip åœ°å€<br>æ³¨æ„ï¼šä¸èƒ½å¯¹åŒä¸€ä¸ªåŸŸååŒæ—¶è®¾ç½® A è®°å½•å’Œ CNAME è®°å½•ï¼Œä¼šé€ æˆå†²çª</p>
</li>
<li><p>åœ¨ github ä¿®æ”¹æä¾›æœåŠ¡çš„åŸŸå<br>åœ¨ <name>.github.io ä»“åº“ä¸­è¿›è¡Œè®¾ç½®åŸŸåï¼Œ<code>Settings-&gt;Pages-&gt;Custom domain</code>, è®¾ç½®ä¸ºè‡ªå·±çš„åŸŸå</p>
</li>
<li><p>åœ¨æœ¬åœ°åšå®¢æ·»åŠ è®°å½•é›†æ–‡ä»¶ CNAME</p>
 <figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">emiyada.cn</span><br></pre></td></tr></table></figure></li>
</ol>
<p>é‡æ–°éƒ¨ç½²</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean </span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>
<p>ä»æµè§ˆå™¨æ‰“å¼€é¡µé¢å¯ä»¥çœ‹åˆ°<br><img src="https://cdn.jsdelivr.net/gh/darenfy/wiki-resources@master/202205021540840.png"></p>
<h3 id="æŠ¥é”™è§£å†³æ–¹å¼"><a href="#æŠ¥é”™è§£å†³æ–¹å¼" class="headerlink" title="æŠ¥é”™è§£å†³æ–¹å¼"></a>æŠ¥é”™è§£å†³æ–¹å¼</h3><ol>
<li><p>æ— æ³•è¯»å–è¿œç¨‹ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: <span class="string">&#x27;git@github.com/Yourname/Yourname.github.io.git&#x27;</span> does not appear to be a git repository</span><br><span class="line">fatal: æ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå¯èƒ½æ˜¯ç”±äºå°† deploy repo è®¾ç½®æˆ git@ è¿æ¥æ–¹å¼ï¼Œå»ºè®®æ”¹æˆ https è¿æ¥</p>
</li>
<li><p>é‰´æƒå¤±è´¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ <span class="keyword">for</span> more information.</span><br><span class="line">fatal: <span class="string">&#x27;https://github.com/Yourname/Yourname.github.io.git/&#x27;</span> é‰´æƒå¤±è´¥</span><br></pre></td></tr></table></figure>
<p>åœ¨éƒ¨ç½²çš„æ—¶å€™ä¼šæç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Username for &#x27;https://github.com&#x27;:</span><br><span class="line">Password for &#x27;https://Yourname@github.com&#x27;:</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå¦‚æœè¾“å…¥æ­£å¸¸çš„githubå¯†ç ä¼šæŠ¥é”™é‰´æƒå¤±è´¥ï¼Œå› ä¸ºåœ¨2020å¹´ä¹‹ågithubä¿®æ”¹æˆ token è®¤è¯æœºåˆ¶</p>
</li>
</ol>
<p>token å¯ä»¥é€šè¿‡ github çš„ <code>Settings-&gt;Developer settings-&gt;Personal access tokens</code> ç”Ÿæˆï¼Œå¹¶å°†å…¶ä½œä¸ºå¯†ç </p>
]]></content>
      <categories>
        <category>å°æŠ€å·§</category>
      </categories>
      <tags>
        <tag>blogæ­å»º</tag>
      </tags>
  </entry>
</search>
